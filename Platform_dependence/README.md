# Platform dependence

## 说明

ISO C 范例程序的整理，已接近尾声。但遗憾的是，大多数当下流行的功能，比如网络通信、进程间通信、并发计算（多进程与多线程）、定时执行、系统级别的文件操作以及权限处理等功能等，ISO标准已经无能为力，需要借助具体操作系统平台所提供的函数接口来完成。除了Windows平台的接口，它们中大多数都包含在BSD、POSIX、IEEE等系列标准中。接下来我们将依次介绍这些接口，分为类Unix（包含Linux, Macintosh）、Windows两个目录进行分门别类地整理。

类Unix部分将直接搬运APUE[^1]的范例代码，理论上来说，这些代码也可以在Mac系统中编译与运行。它们将充分地展示系统化的C语言工程编译方式，以及大量的类Unix系统接口的具体使用方法。您也可将适用的代码应用于未来的项目之中。

## 代码目录结构

.  
├── advio  
├── daemons  
├── datafiles  
├── db  
├── environ  
├── exercises  
├── figlinks  
├── filedir  
├── fileio  
├── **include**     // 项目头文件aupe.h存放目录，定义了本项目中所有的宏和范例中所调用的函数声明  
├── intro    // 第一章Unix系统概念介绍，梦开始的地方。  
├── ipc1  
├── ipc2  
├── **lib**            //  实现include目录头文件的所有调用接口函数  
├── printer  
├── proc         // 进程控制  
├── pty  
├── relation  
├── signals  
├── sockets  
├── standards   // 系统环境变量和各类资源限制， make后生成源文件和可执行文件 
├── stdio  
├── termios  
├── threadctl  
└── threads   



## 收尾总结

2023/01/12 

APUE的代码整理又将进入尾声，一年多以来历尽艰辛，一度想要放弃。其代码之晦涩，编码及注释格式之陈旧，不断地折磨着我。例如，注释还在采用C89的标准（/* ... */ 这类注释有无法嵌套的副作用）、返回值和函数名永远不在同一行、函数调用总是放在判断语句的括号之中、主函数结尾不返回直接使用exit退出、代码注释和文档中无相关索引难以和书中代码相对应[^2]等等。该书截至目前为止一共出了三版，却未在这些方面做出改进，作者也相继离世，这无疑是令人遗憾的。除了要兼容九十年代以前的机器和系统及编译器我实在想不到其他更好的理由，但是它们始终得随着时代往前推进，否则这些代码存在的意义何在呢？我想这也是我做二次整理的意义所在。



[^1]:《UNIX环境高级编程》 Advanced Programming in the UNIX® Environment
[^2]:  这就导致看完书后寻找相应的代码浪费了过多的时间，经过整理后可以使用书中的图标编号快速定位代码目录，这就让两处的代码跨越空间地统一了。